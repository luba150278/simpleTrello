(this["webpackJsonptrello-ala"]=this["webpackJsonptrello-ala"]||[]).push([[0],{49:function(e,t,r){},54:function(e,t,r){},74:function(e,t,r){},75:function(e,t,r){},77:function(e,t,r){},78:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"fetchBoards",(function(){return D}));var a={};r.r(a),r.d(a,"fetchLists",(function(){return y}));var c={};r.r(c),r.d(c,"addBoard",(function(){return A}));var o={};r.r(o),r.d(o,"editBoard",(function(){return w}));var i={};r.r(i),r.d(i,"deleteBoard",(function(){return U}));var s,d=r(0),l=r(18),u=r.n(l),b=(r(49),r(21)),j=r(20),O=r(3),p=(r(54),r(4)),h=r.n(p),f=r(9),E=r(13),S=r(10),R=r.n(S),C="https://trello-back.shpp.me/lmyetolkina/api/v1",_=r(12),x=r(22);!function(e){e.FETCH_BOARDS="FETCH_BOARDS",e.FETCH_BOARDS_SUCCESS="FETCH_BOARDS_SUCCESS",e.FETCH_BOARDS_ERROR="FETCH_BOARDS_ERROR"}(s||(s={}));var v,B="".concat(C,"/board"),D=function(){return function(){var e=Object(f.a)(h.a.mark((function e(t){var r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:s.FETCH_BOARDS}),e.next=4,R.a.get(B,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});case 4:r=e.sent,t({type:s.FETCH_BOARDS_SUCCESS,payload:r.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:s.FETCH_BOARDS_ERROR,payload:"Error. Boards info don't load"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()};!function(e){e.FETCH_LISTS="FETCH_LISTS",e.FETCH_LISTS_SUCCESS="FETCH_LISTS_SUCCESS",e.FETCH_LISTS_ERROR="FETCH_LISTS_ERROR"}(v||(v={}));var m,y=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(r){var n,a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="".concat(C,"/board/").concat(e),t.prev=1,t.next=4,R.a.get(n,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});case 4:a=t.sent,r({type:v.FETCH_LISTS_SUCCESS,payload:a.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),r({type:v.FETCH_LISTS_ERROR,payload:"Error. Boards info didn't load"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()};!function(e){e.ADD_BOARD_SUCCESS="ADD_BOARD_SUCCESS",e.ADD_BOARD_ERROR="ADD_BOARD_ERROR"}(m||(m={}));var g,T="".concat(C,"/board"),A=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{R.a.post(T,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),r({type:m.ADD_BOARD_SUCCESS,payload:!0})}catch(n){r({type:m.ADD_BOARD_ERROR,payload:"Error. Boards info don't load"})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};!function(e){e.EDIT_BOARD_SUCCESS="EDIT_BOARD_SUCCESS",e.EDIT_BOARD_ERROR="EDIT_BOARD_ERROR"}(g||(g={}));var k,w=function(e,t){return function(){var r=Object(f.a)(h.a.mark((function r(n){return h.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{R.a.put(t,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),n({type:g.EDIT_BOARD_SUCCESS,payload:!0})}catch(a){n({type:g.EDIT_BOARD_ERROR,payload:"Error. Boards info don't load"})}case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};!function(e){e.DELETE_BOARD_SUCCESS="DELETE_BOARD_SUCCESS",e.DELETE_BOARD_ERROR="DELETE_BOARD_ERROR"}(k||(k={}));var L,F,H,N,I,U=function(e){return function(){var t=Object(f.a)(h.a.mark((function t(r){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{R.a.delete(e,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),r({type:k.DELETE_BOARD_SUCCESS,payload:!0})}catch(n){r({type:k.DELETE_BOARD_ERROR,payload:"Error. Boards info don't load"})}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},z=Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},n),a),c),o),i),M=function(){var e=Object(b.b)();return Object(_.bindActionCreators)(z,e)},V=b.c,J=r(1),P=function(e){var t=e.show,r=e.text,n=e.danger;return t?Object(J.jsx)("div",{className:n?"alert alert-danger":"alert alert-success",role:"alert",children:r}):Object(J.jsx)(J.Fragment,{})},W=(r(74),function(e){var t=e.startTitle,r=e.isCreate,n=e.urlEdit,a=Object(d.useState)(t),c=Object(E.a)(a,2),o=c[0],i=c[1],s=Object(d.useState)(!1),l=Object(E.a)(s,2),u=l[0],b=l[1],j=Object(d.useState)(!1),O=Object(E.a)(j,2),p=O[0],h=O[1],f=Object(d.useState)(""),S=Object(E.a)(f,2),R=S[0],C=S[1],_={title:o},x=M().addBoard,v=M().editBoard,B=M().fetchBoards;function D(e,t,r){b(e),h(t),C(r),setTimeout((function(){i(""),b(!1)}),5e3)}return Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)(P,{show:u,text:R,danger:p}),Object(J.jsx)("div",{className:"fields mb-4",children:Object(J.jsx)("div",{className:"field mr-4",children:Object(J.jsx)("input",{onChange:function(e){return i(e.target.value)},value:o,type:"text",id:"title",placeholder:"Enter board name"})})}),Object(J.jsx)("button",{className:"btn btn-success mr-2 btn-new-board",onClick:function(){var e;0===(e=o).trim().replaceAll(/[\u0430-\u044f\u0410-\u042f\u0451\u0401]|[a-zA-z]|[0-9]|\s|,|-|_|\.+/gm,"").length&&""!==e?(r?(x(_),B()):(v(_,n),B()),D(!0,!1,r?"New board was created successfully!":"Board title was edited successfully!")):D(!0,!0,"The value is empty or contains errors. Allowed characters: letters, numbers, spaces, dashes, dots, underscores.")},children:r?"Add board":"Edit board"})]})}),q=r(16),G=r(17),K=G.a.div(L||(L=Object(q.a)(["\n  background-color: rgba(0, 0, 0, 0.7);\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),Q=function(e){var t=e.onBackDropClick,r=e.children;return u.a.createPortal(Object(J.jsx)(K,{onClick:t,children:Object(J.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:r})}),document.getElementById("modal-root"))},X=G.a.div(F||(F=Object(q.a)(["\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n"]))),Y=Object(G.a)(X)(H||(H=Object(q.a)(["\n  border-radius: 7px;\n  box-shadow: 0 0 32px rgba(0, 0, 0, 0.5);\n  padding: 40px;\n  width: 450px;\n  font-size: 26px;\n"]))),Z=G.a.h3(N||(N=Object(q.a)(["\n  color: #25306c;\n  font-size: 35px;\n  line-height: 1em;\n  font-weight: bold;\n  margin: 5px 0 10px;\n  text-align: center;\n"]))),$=G.a.div(I||(I=Object(q.a)(["\n  position: absolute;\n  top: 0;\n  left: 80%;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),ee=function(e){var t=e.isModalVisible,r=e.onBackDropClick,n=e.startTitle,a=e.isCreate,c=e.urlEdit;return t?Object(J.jsx)(Q,{onBackDropClick:r,children:Object(J.jsxs)(Y,{children:[Object(J.jsx)($,{onClick:function(){return r()},children:"x"}),Object(J.jsx)(Z,{children:a?"Add new board":"Edit board title"}),Object(J.jsx)(W,{startTitle:n,isCreate:a,urlEdit:c})]})}):null},te=(r(75),function(e){var t=e.match,r=Object(O.g)(),n="".concat(C,"/board/").concat(t.params.id),a=V((function(e){return e.lists})),c=a.getLists,o=a.error,i=a.loading,s=M().deleteBoard,l=M().fetchLists;if(Object(d.useEffect)((function(){l(t.params.id)}),[]),i)return Object(J.jsx)("h2",{children:"Loading..."});if(o)return Object(J.jsx)("h2",{children:o});var u=Object(d.useState)(!1),b=Object(E.a)(u,2),p=b[0],S=b[1],_=function(){S((function(e){return!e}))};function x(){return(x=Object(f.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",R.a.post("".concat(n,"/list"),t,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var v=0!==Object.keys(c.lists).length?Object.keys(c.lists).map((function(e){var t=c.lists[Number(e)],r=Object.keys(t.cards).map((function(e){var t=c.lists[Number(e)];return Object(J.jsx)("li",{className:"card board-list-item",children:t.title},t.id)}));return Object(J.jsxs)("div",{className:"card board",children:[Object(J.jsx)("h4",{children:t.title}),Object(J.jsx)("ul",{className:"board-list",children:r})]},t.id)})):Object(J.jsx)("h2",{children:"Any lists yet. Create your first list!"});return Object(J.jsxs)(J.Fragment,{children:[Object(J.jsxs)("div",{className:"board-header container my-4",children:[Object(J.jsx)(j.b,{to:"/",children:"Home"}),Object(J.jsxs)("div",{className:"board-header-title",children:[Object(J.jsxs)("h1",{children:["Boards Number: ",t.params.id]}),Object(J.jsx)("button",{className:"btn btn-success editBoard ml-4",onClick:_,children:"Edit"}),Object(J.jsx)("button",{className:"btn btn-danger deleteBoard ml-4",onClick:function(){s(n),r.push("/")},children:"Delete"})]}),Object(J.jsx)("button",{className:"btn btn-add-board mt-2",onClick:function(){!function(e){x.apply(this,arguments)}({title:"aaaa",position:2})},children:"Add List"})]}),Object(J.jsx)("div",{className:"cards",children:v}),Object(J.jsx)(ee,{isModalVisible:p,onBackDropClick:_,startTitle:"",isCreate:!1,urlEdit:n})]})});function re(){for(var e,t,r=new Array(3),n=0;n<3;n++)r[n]=(e=100,t=255,Math.floor(Math.random()*(t-e+1))+e);var a=function(e,t){return Math.random()*(t-e)+e}(.3,.8);return"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(a,")")}r(77);var ne=function(){var e=V((function(e){return e.boards})),t=e.getBoards,r=e.error,n=e.loading,a=M().fetchBoards;return Object(d.useEffect)((function(){a()}),[]),n?Object(J.jsx)("h2",{children:"Loading..."}):r?Object(J.jsx)("h2",{children:r}):t.boards.length>0?Object(J.jsx)("div",{children:Object(J.jsx)("div",{className:"row boards-row",children:t.boards.map((function(e){return Object(J.jsx)(j.b,{to:"/board/".concat(e.id),className:"card col-md-3 mx-2",style:{background:"".concat(re())},children:e.title},e.id)}))})}):Object(J.jsxs)("div",{children:[Object(J.jsx)("h1",{children:"Boards"}),Object(J.jsx)("h2",{children:"Boards wasn't create"})]})},ae=function(){var e=Object(d.useState)(!1),t=Object(E.a)(e,2),r=t[0],n=t[1],a=function(){n((function(e){return!e}))};return Object(J.jsxs)("section",{children:[Object(J.jsx)("div",{className:"container my-4",children:Object(J.jsx)("button",{className:"btn btn-outline-primary",onClick:a,children:"Add Board"})}),Object(J.jsxs)("div",{className:"container",children:[Object(J.jsx)("h1",{children:"Boards"}),Object(J.jsx)("p",{children:'This is a training React-project. An analogue of the "Trello" service.'}),Object(J.jsx)(ne,{})]}),Object(J.jsx)(ee,{isModalVisible:r,onBackDropClick:a,startTitle:"",isCreate:!0,urlEdit:""})]})},ce=function(){return Object(J.jsx)(j.a,{children:Object(J.jsx)("div",{className:"container",children:Object(J.jsxs)(O.d,{children:[Object(J.jsx)(O.b,{component:ae,path:"/",exact:!0}),Object(J.jsx)(O.b,{component:te,path:"/board/:id"}),Object(J.jsx)(O.a,{exact:!0,to:"/"})]})})})},oe=r(43),ie=r(44),se={getBoards:{boards:[{id:1,title:""}]},loading:!1,error:null},de={getLists:{users:[],lists:[]},loading:!1,error:null},le={added:!0,error:null},ue={edited:!0,error:null},be={deleted:!0,error:null},je=Object(_.combineReducers)({boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.FETCH_BOARDS:return{loading:!0,error:null,getBoards:{boards:[{id:1,title:""}]}};case s.FETCH_BOARDS_SUCCESS:return{loading:!1,error:null,getBoards:t.payload};case s.FETCH_BOARDS_ERROR:return{loading:!1,error:t.payload,getBoards:{boards:[{id:1,title:""}]}};default:return e}},lists:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v.FETCH_LISTS:return{loading:!0,error:null,getLists:{users:[],lists:[]}};case v.FETCH_LISTS_SUCCESS:return{loading:!1,error:null,getLists:t.payload};case v.FETCH_LISTS_ERROR:return{loading:!1,error:t.payload,getLists:{users:[],lists:[]}};default:return e}},boardAdd:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.ADD_BOARD_SUCCESS:return{added:!0,error:null};case m.ADD_BOARD_ERROR:return{added:!1,error:t.payload};default:return e}},boardEdit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.EDIT_BOARD_SUCCESS:return{edited:!0,error:null};case g.EDIT_BOARD_ERROR:return{edited:!1,error:t.payload};default:return e}},boardDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k.DELETE_BOARD_SUCCESS:return{deleted:!0,error:null};case k.DELETE_BOARD_ERROR:return{deleted:!1,error:t.payload};default:return e}}}),Oe=Object(_.createStore)(je,Object(ie.composeWithDevTools)(Object(_.applyMiddleware)(oe.a)));u.a.render(Object(J.jsx)(b.a,{store:Oe,children:Object(J.jsx)(ce,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.f1f8f130.chunk.js.map