(this["webpackJsonptrello-ala"]=this["webpackJsonptrello-ala"]||[]).push([[0],{49:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"fetchBoards",(function(){return I}));var c=n(0),a=n(15),i=n.n(a),o=(n(49),n(18)),s=n(17),d=n(3),l=(n(54),n(10)),b=(n(55),n(1));var j=function(e){var t=e.match,n=Object(c.useState)(),r=Object(l.a)(n,2),a=r[0],i=r[1];Object(c.useEffect)((function(){i({title:"My test board",lists:[{id:1,title:"\u041f\u043b\u0430\u043d\u044b",cards:[{id:1,title:"\u043f\u043e\u043c\u044b\u0442\u044c \u043a\u043e\u0442\u0430"},{id:2,title:"\u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u0441\u0443\u043f"},{id:3,title:"\u0441\u0445\u043e\u0434\u0438\u0442\u044c \u0432 \u043c\u0430\u0433\u0430\u0437\u0438\u043d"}]},{id:2,title:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435",cards:[{id:4,title:"\u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0435\u0440\u0438\u0430\u043b"}]},{id:3,title:"\u0421\u0434\u0435\u043b\u0430\u043d\u043e",cards:[{id:5,title:"\u0441\u0434\u0435\u043b\u0430\u0442\u044c \u0434\u043e\u043c\u0430\u0448\u043a\u0443"},{id:6,title:"\u043f\u043e\u0433\u0443\u043b\u044f\u0442\u044c \u0441 \u0441\u043e\u0431\u0430\u043a\u043e\u0439"}]}]})}),[]);var o=null===a||void 0===a?void 0:a.lists.map((function(e){var t=e.cards.map((function(e){return Object(b.jsx)("li",{className:"card board-list-item",children:e.title},e.id)}));return Object(b.jsxs)("div",{className:"card board",children:[Object(b.jsx)("h4",{children:e.title}),Object(b.jsx)("ul",{className:"board-list",children:t})]},e.id)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"board-header container my-4",children:[Object(b.jsx)(s.b,{to:"/",children:"Home"}),Object(b.jsxs)("h1",{children:["Boards Number: ",t.params.id]}),Object(b.jsx)("button",{className:"btn btn-add-board mt-2",children:"Add List"})]}),Object(b.jsx)("div",{className:"cards",children:o})]})},u=n(19),h=n.n(u),O=n(20),p=n(21),f=n.n(p),x=function(e){var t=e.show,n=e.text,r=e.danger;return t?Object(b.jsx)("div",{className:r?"alert alert-danger":"alert alert-success",role:"alert",children:n}):Object(b.jsx)(b.Fragment,{})},m=(n(76),"".concat("https://trello-back.shpp.me/lmyetolkina/api/v1","/board"));function v(){return(v=Object(O.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.a.post(m,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g,B,C,S,y,E=function(){var e=Object(c.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),i=Object(l.a)(a,2),o=i[0],s=i[1],d=Object(c.useState)(!1),j=Object(l.a)(d,2),u=j[0],h=j[1],O=Object(c.useState)(""),p=Object(l.a)(O,2),f=p[0],m=p[1],g={title:n};function B(e,t,n){s(e),h(t),m(n),setTimeout((function(){r(""),s(!1)}),5e3)}return Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)(x,{show:o,text:f,danger:u}),Object(b.jsx)("div",{className:"fields mb-4",children:Object(b.jsx)("div",{className:"field mr-4",children:Object(b.jsx)("input",{onChange:function(e){return r(e.target.value)},value:n,type:"text",id:"title",placeholder:"Enter board name"})})}),Object(b.jsx)("button",{className:"btn btn-success mr-2 btn-new-board",onClick:function(){!function(e){var t=e.trim().replaceAll(/[\u0430-\u044f\u0410-\u042f\u0451\u0401]|[a-zA-z]|[0-9]|\s|,|-|_|\.+/gm,"");return console.log(":".concat(t,":").concat(t.length)),0===t.length&&""!==e}(n)?B(!0,!0,"The value is empty or contains errors. Allowed characters: letters, numbers, spaces, dashes, dots, underscores."):(!function(e){v.apply(this,arguments)}(g),B(!0,!1,"New board was created successfully!"))},children:"Add board"})]})},R=n(13),k=n(14),A=k.a.div(g||(g=Object(R.a)(["\n  background-color: rgba(0, 0, 0, 0.7);\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),w=function(e){var t=e.onBackDropClick,n=e.children;return i.a.createPortal(Object(b.jsx)(A,{onClick:t,children:Object(b.jsx)("div",{onClick:function(e){return e.stopPropagation()},children:n})}),document.getElementById("modal-root"))},_=k.a.div(B||(B=Object(R.a)(["\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n"]))),N=Object(k.a)(_)(C||(C=Object(R.a)(["\n  border-radius: 7px;\n  box-shadow: 0 0 32px rgba(0, 0, 0, 0.5);\n  padding: 40px;\n  width: 450px;\n  font-size: 26px;\n"]))),T=k.a.h3(S||(S=Object(R.a)(["\n  color: #25306c;\n  font-size: 35px;\n  line-height: 1em;\n  font-weight: bold;\n  margin: 5px 0 10px;\n  text-align: center;\n"]))),D=k.a.div(y||(y=Object(R.a)(["\n  position: absolute;\n  top: 0;\n  left: 80%;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),F=function(e){var t=e.isModalVisible,n=e.onBackDropClick;return t?Object(b.jsx)(w,{onBackDropClick:n,children:Object(b.jsxs)(N,{children:[Object(b.jsx)(D,{onClick:function(){return n()},children:"x"}),Object(b.jsx)(T,{children:"Add new board"}),Object(b.jsx)(E,{})]})}):null};function H(){for(var e,t,n=new Array(3),r=0;r<3;r++)n[r]=(e=100,t=255,Math.floor(Math.random()*(t-e+1))+e);var c=function(e,t){return Math.random()*(t-e)+e}(.3,.8);return"rgba(".concat(n[0],", ").concat(n[1],", ").concat(n[2],", ").concat(c,")")}var M,z=n(9),U=n(44);!function(e){e.FETCH_BOARDS="FETCH_BOARDS",e.FETCH_BOARDS_SUCCESS="FETCH_BOARDS_SUCCESS",e.FETCH_BOARDS_ERROR="FETCH_BOARDS_ERROR"}(M||(M={}));var I=function(){return function(){var e=Object(O.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:M.FETCH_BOARDS}),e.next=4,f.a.get("https://trello-back.shpp.me/lmyetolkina/api/v1/board",{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});case 4:n=e.sent,t({type:M.FETCH_BOARDS_SUCCESS,payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:M.FETCH_BOARDS_ERROR,payload:"Error. Boards info don't load"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},J=Object(U.a)({},r),L=o.c,P=(n(77),function(){var e=L((function(e){return e.boards})),t=e.getBoards,n=e.error,r=e.loading,a=function(){var e=Object(o.b)();return Object(z.bindActionCreators)(J,e)}().fetchBoards;return Object(c.useEffect)((function(){a()}),[]),r?Object(b.jsx)("h2",{children:"Loading..."}):n?Object(b.jsx)("h2",{children:n}):t.boards.length>0?Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"row boards-row",children:t.boards.map((function(e){return Object(b.jsx)(s.b,{to:"/board/".concat(e.id),className:"card col-md-3 mx-2",style:{background:"".concat(H())},children:e.title},e.id)}))})}):Object(b.jsxs)("div",{children:[Object(b.jsx)("h1",{children:"Boards"}),Object(b.jsx)("h2",{children:"Boards wasn't create"})]})}),V=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],r=t[1],a=function(){r((function(e){return!e}))};return Object(b.jsxs)("section",{children:[Object(b.jsx)("div",{className:"container my-4",children:Object(b.jsx)("button",{className:"btn btn-outline-primary",onClick:a,children:"Add Board"})}),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Boards"}),Object(b.jsx)("p",{children:'This is a training React-project. An analogue of the "Trello" service.'}),Object(b.jsx)(P,{})]}),Object(b.jsx)(F,{isModalVisible:n,onBackDropClick:a})]})},W=function(){return Object(b.jsx)(s.a,{children:Object(b.jsx)("div",{className:"container",children:Object(b.jsxs)(d.d,{children:[Object(b.jsx)(d.b,{component:V,path:"/",exact:!0}),Object(b.jsx)(d.b,{component:j,path:"/board/:id"}),Object(b.jsx)(d.a,{exact:!0,to:"/"})]})})})},q=n(42),G=n(43),K={getBoards:{boards:[{id:1,title:""}]},loading:!1,error:null},Q=Object(z.combineReducers)({boards:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case M.FETCH_BOARDS:return{loading:!0,error:null,getBoards:{boards:[{id:1,title:""}]}};case M.FETCH_BOARDS_SUCCESS:return{loading:!1,error:null,getBoards:t.payload};case M.FETCH_BOARDS_ERROR:return{loading:!1,error:t.payload,getBoards:{boards:[{id:1,title:""}]}};default:return e}}}),X=Object(z.createStore)(Q,Object(G.composeWithDevTools)(Object(z.applyMiddleware)(q.a)));i.a.render(Object(b.jsx)(o.a,{store:X,children:Object(b.jsx)(W,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.a8c69969.chunk.js.map