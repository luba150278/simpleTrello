(this["webpackJsonptrello-ala"]=this["webpackJsonptrello-ala"]||[]).push([[0],{51:function(t,e,r){},56:function(t,e,r){},76:function(t,e,r){},77:function(t,e,r){},79:function(t,e,r){},80:function(t,e,r){},81:function(t,e,r){},82:function(t,e,r){"use strict";r.r(e);var n={};r.r(n),r.d(n,"fetchBoards",(function(){return L}));var a={};r.r(a),r.d(a,"fetchLists",(function(){return I}));var c={};r.r(c),r.d(c,"addBoard",(function(){return U}));var o={};r.r(o),r.d(o,"editBoard",(function(){return H}));var i={};r.r(i),r.d(i,"deleteBoard",(function(){return M}));var s={};r.r(s),r.d(s,"addList",(function(){return V}));var d={};r.r(d),r.d(d,"deleteList",(function(){return Q}));var l=r(1),u=r(21),j=r.n(u),b=(r(51),r(23)),O=r(18),p=r(4),f=(r(56),r(6)),h="https://trello-back.shpp.me/lmyetolkina/api/v1",E="The value is empty or contains errors. Allowed characters: letters, numbers, spaces, dashes, dots, underscores.",S=r(2),R=function(t){var e=t.show,r=t.text,n=t.danger;return e?Object(S.jsx)("div",{className:n?"alert alert-danger":"alert alert-success",role:"alert",children:r}):Object(S.jsx)(S.Fragment,{})};function _(t){return 0===t.trim().replaceAll(/[\u0430-\u044f\u0410-\u042f\u0451\u0401]|[a-zA-z]|[0-9]|\s|,|-|_|\.+/gm,"").length&&""!==t}var v,C=r(14),x=r(16),D=r(5),m=r.n(D),T=r(7),y=r(8),B=r.n(y);!function(t){t.FETCH_BOARDS="FETCH_BOARDS",t.FETCH_BOARDS_SUCCESS="FETCH_BOARDS_SUCCESS",t.FETCH_BOARDS_ERROR="FETCH_BOARDS_ERROR"}(v||(v={}));var g,A="".concat(h,"/board"),L=function(){return function(){var t=Object(T.a)(m.a.mark((function t(e){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e({type:v.FETCH_BOARDS}),t.next=4,B.a.get(A,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});case 4:r=t.sent,e({type:v.FETCH_BOARDS_SUCCESS,payload:r.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e({type:v.FETCH_BOARDS_ERROR,payload:"Error. Boards info don't load"});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()};!function(t){t.FETCH_LISTS="FETCH_LISTS",t.FETCH_LISTS_SUCCESS="FETCH_LISTS_SUCCESS",t.FETCH_LISTS_ERROR="FETCH_LISTS_ERROR"}(g||(g={}));var w,I=function(t){return function(){var e=Object(T.a)(m.a.mark((function e(r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(h,"/board/").concat(t),e.prev=1,e.next=4,B.a.get(n,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}});case 4:a=e.sent,r({type:g.FETCH_LISTS_SUCCESS,payload:a.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),r({type:g.FETCH_LISTS_ERROR,payload:"Error. Boards info didn't load"});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()};!function(t){t.ADD_BOARD_SUCCESS="ADD_BOARD_SUCCESS",t.ADD_BOARD_ERROR="ADD_BOARD_ERROR"}(w||(w={}));var k,N="".concat(h,"/board"),U=function(t){return function(){var e=Object(T.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{B.a.post(N,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),r({type:w.ADD_BOARD_SUCCESS,payload:!0})}catch(n){r({type:w.ADD_BOARD_ERROR,payload:"Error. Boards info don't load"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};!function(t){t.EDIT_BOARD_SUCCESS="EDIT_BOARD_SUCCESS",t.EDIT_BOARD_ERROR="EDIT_BOARD_ERROR"}(k||(k={}));var F,H=function(t,e){return function(){var r=Object(T.a)(m.a.mark((function r(n){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{B.a.put(e,t,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),n({type:k.EDIT_BOARD_SUCCESS,payload:!0})}catch(a){n({type:k.EDIT_BOARD_ERROR,payload:"Error. Boards info don't load"})}case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()};!function(t){t.DELETE_BOARD_SUCCESS="DELETE_BOARD_SUCCESS",t.DELETE_BOARD_ERROR="DELETE_BOARD_ERROR"}(F||(F={}));var z,M=function(t){return function(){var e=Object(T.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{B.a.delete(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),r({type:F.DELETE_BOARD_SUCCESS,payload:!0})}catch(n){r({type:F.DELETE_BOARD_ERROR,payload:"Error. Boards info don't load"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};!function(t){t.ADD_LIST_SUCCESS="ADD_LIST_SUCCESS",t.ADD_LIST_ERROR="ADD_LIST_ERROR"}(z||(z={}));var P,V=function(t,e){return function(){var r=Object(T.a)(m.a.mark((function r(n){return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:try{B.a.post(t,e,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),n({type:z.ADD_LIST_SUCCESS,payload:!0})}catch(a){n({type:z.ADD_LIST_ERROR,payload:"Error. Lists info don't load"})}case 1:case"end":return r.stop()}}),r)})));return function(t){return r.apply(this,arguments)}}()};!function(t){t.DELETE_LIST_SUCCESS="DELETE_List_SUCCESS",t.DELETE_LIST_ERROR="DELETE_List_ERROR"}(P||(P={}));var J,W,q,G,K,Q=function(t){return function(){var e=Object(T.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{B.a.delete(t,{headers:{"Content-Type":"application/json",Authorization:"Bearer 123"}}),r({type:P.DELETE_LIST_SUCCESS,payload:!0})}catch(n){r({type:P.DELETE_LIST_ERROR,payload:"Error. Lists info don't load"})}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},X=Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},n),a),c),o),i),s),d),Y=function(){var t=Object(b.b)();return Object(C.bindActionCreators)(X,t)},Z=(r(76),function(t){var e=t.startTitle,r=t.isCreate,n=t.urlEdit,a=Object(l.useState)(e),c=Object(f.a)(a,2),o=c[0],i=c[1],s=Object(l.useState)(!1),d=Object(f.a)(s,2),u=d[0],j=d[1],b=Object(l.useState)(!1),O=Object(f.a)(b,2),p=O[0],h=O[1],v=Object(l.useState)(""),C=Object(f.a)(v,2),x=C[0],D=C[1],m={title:o},T=Y().addBoard,y=Y().editBoard,B=Y().fetchBoards;function g(t,e,r){j(t),h(e),D(r),setTimeout((function(){i(""),j(!1)}),5e3)}return Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)(R,{show:u,text:x,danger:p}),Object(S.jsx)("div",{className:"fields mb-4",children:Object(S.jsx)("div",{className:"field mr-4",children:Object(S.jsx)("input",{onChange:function(t){return i(t.target.value)},value:o,type:"text",id:"title",placeholder:"Enter board name"})})}),Object(S.jsx)("button",{className:"btn btn-success mr-2 btn-new-board",onClick:function(){_(o)?(r?T(m):y(m,n),B(),g(!0,!1,r?"New board was created successfully!":"Board title was edited successfully!")):g(!0,!0,E)},children:r?"Add board":"Edit board"})]})}),$=r(19),tt=r(20),et=tt.a.div(J||(J=Object($.a)(["\n  background-color: rgba(0, 0, 0, 0.7);\n  position: fixed;\n  height: 100%;\n  width: 100%;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),rt=function(t){var e=t.onBackDropClick,r=t.children;return j.a.createPortal(Object(S.jsx)(et,{onClick:e,children:Object(S.jsx)("div",{onClick:function(t){return t.stopPropagation()},children:r})}),document.getElementById("modal-root"))},nt=tt.a.div(W||(W=Object($.a)(["\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  position: relative;\n"]))),at=Object(tt.a)(nt)(q||(q=Object($.a)(["\n  border-radius: 7px;\n  box-shadow: 0 0 32px rgba(0, 0, 0, 0.5);\n  padding: 40px;\n  width: 450px;\n  font-size: 26px;\n"]))),ct=tt.a.h3(G||(G=Object($.a)(["\n  color: #25306c;\n  font-size: 35px;\n  line-height: 1em;\n  font-weight: bold;\n  margin: 5px 0 10px;\n  text-align: center;\n"]))),ot=tt.a.div(K||(K=Object($.a)(["\n  position: absolute;\n  top: 0;\n  left: 80%;\n  &:hover {\n    cursor: pointer;\n  }\n"]))),it=function(t){var e=t.isModalVisible,r=t.onBackDropClick,n=t.startTitle,a=t.isCreate,c=t.urlEdit;return e?Object(S.jsx)(rt,{onBackDropClick:r,children:Object(S.jsxs)(at,{children:[Object(S.jsx)(ot,{onClick:function(){return r()},children:"x"}),Object(S.jsx)(ct,{children:a?"Add new board":"Edit board title"}),Object(S.jsx)(Z,{startTitle:n,isCreate:a,urlEdit:c})]})}):null},st=(r(77),function(t){var e=t.url,r=Object(p.g)(),n=Y().deleteBoard;return Object(S.jsx)("button",{className:"btn btn-danger deleteBoard ml-4",onClick:function(){n(e),r.push("/")},children:"Delete"})}),dt=function(){var t=Object(l.useState)(!1),e=Object(f.a)(t,2)[1];return Object(S.jsx)("button",{className:"btn btn-success editBoard ml-4",onClick:function(){e((function(t){return!t}))},children:"Edit"})},lt=function(t){var e=t.url,r=t.id;return Object(S.jsxs)("div",{className:"board-header container my-4",children:[Object(S.jsx)(O.b,{to:"/",children:"Home"}),Object(S.jsxs)("div",{className:"board-header-title",children:[Object(S.jsxs)("h1",{children:["Boards Number: ",r]}),Object(S.jsx)(dt,{}),Object(S.jsx)(st,{url:e})]})]})},ut=r(0),jt=r(44),bt=b.c,Ot=(r(79),function(t){var e=t.url,r=t.countLists,n=t.boardID,a=Object(l.useState)(""),c=Object(f.a)(a,2),o=c[0],i=c[1],s=Object(l.useState)(!1),d=Object(f.a)(s,2),u=d[0],j=d[1],b=Object(l.useState)(!1),O=Object(f.a)(b,2),p=O[0],h=O[1],v=Object(l.useState)(""),C=Object(f.a)(v,2),x=C[0],D=C[1],m=Y().addList,T=Y().fetchLists;function y(t,e,r){j(t),h(e),D(r),setTimeout((function(){i(""),j(!1)}),5e3)}return Object(S.jsxs)("div",{className:"list-input-outside",children:[Object(S.jsx)(R,{show:u,text:x,danger:p}),Object(S.jsxs)("div",{className:"list-input mt-2",children:[Object(S.jsx)("input",{type:"text",id:"addList",placeholder:"Enter list name",onChange:function(t){return i(t.target.value)},value:o}),Object(S.jsx)("button",{className:"btn btn-primary ml-2",onClick:function(){if(_(o)){var t={title:o,position:r+1};m("".concat(e,"/list"),t),T(n),y(!0,!1,"New list was created successfully!")}else y(!0,!0,E)},children:"Add List"})]})]})}),pt=(r(80),function(t){var e=t.url,r=t.boardID,n=function(t){return console.log(t.target.value)},a=bt((function(t){return t.lists})),c=a.getLists,o=a.error,i=a.loading,s=Y().deleteList,d=Y().fetchLists;if(Object(l.useEffect)((function(){d(r)}),[]),i)return Object(S.jsx)("h2",{children:"Loading..."});if(o)return Object(S.jsx)("h2",{children:o});var u=Object.keys(c.lists).length,j=0!==u?Object.keys(c.lists).map((function(t){var a=c.lists[Number(t)],o=Object.keys(a.cards).map((function(t){var e=c.lists[Number(t)];return Object(S.jsx)("li",{className:"card list-item",children:e.title},e.id)}));return Object(S.jsxs)("div",{className:"card list",children:[Object(S.jsx)("div",{className:"icon__inner",children:Object(S.jsx)(ut.b.Provider,{value:{className:"trash-list"},children:Object(S.jsx)(jt.a,{onClick:function(){s("".concat(e,"/list/").concat(t)),d(r)}})})}),Object(S.jsx)("input",{type:"text",className:"listTitle",placeholder:a.title,value:a.title,onChange:n}),Object(S.jsx)("ul",{className:"list-items",children:o})]},a.id)})):Object(S.jsx)("h2",{children:"Any lists yet. Create your first list!"});return Object(S.jsxs)("div",{className:"lists-main",children:[Object(S.jsxs)("div",{className:"input-row mb-4",children:[Object(S.jsx)(Ot,{url:e,countLists:u,boardID:r}),Object(S.jsxs)("div",{className:"count-lists",children:["\u0412\u0441\u0435\u0433\u043e \u0441\u043f\u0438\u0441\u043a\u043e\u0432: ",u]})]}),Object(S.jsx)("div",{className:"cards",children:j})]})}),ft=function(t){var e=t.match,r="".concat(h,"/board/").concat(e.params.id),n=Object(l.useState)(!1),a=Object(f.a)(n,2),c=a[0],o=a[1];return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(lt,{url:r,id:e.params.id}),Object(S.jsx)(pt,{url:r,boardID:e.params.id}),Object(S.jsx)(it,{isModalVisible:c,onBackDropClick:function(){o((function(t){return!t}))},startTitle:"",isCreate:!1,urlEdit:r})]})};function ht(){for(var t,e,r=new Array(3),n=0;n<3;n++)r[n]=(t=100,e=255,Math.floor(Math.random()*(e-t+1))+t);var a=function(t,e){return Math.random()*(e-t)+t}(.3,.8);return"rgba(".concat(r[0],", ").concat(r[1],", ").concat(r[2],", ").concat(a,")")}r(81);var Et=function(){var t=bt((function(t){return t.boards})),e=t.getBoards,r=t.error,n=t.loading,a=Y().fetchBoards;return Object(l.useEffect)((function(){a()}),[]),n?Object(S.jsx)("h2",{children:"Loading..."}):r?Object(S.jsx)("h2",{children:r}):e.boards.length>0?Object(S.jsx)("div",{children:Object(S.jsx)("div",{className:"row boards-row",children:e.boards.map((function(t){return Object(S.jsx)(O.b,{to:"/board/".concat(t.id),className:"card col-md-3 mx-2",style:{background:"".concat(ht())},children:t.title},t.id)}))})}):Object(S.jsxs)("div",{children:[Object(S.jsx)("h1",{children:"Boards"}),Object(S.jsx)("h2",{children:"Boards wasn't create"})]})},St=function(){var t=Object(l.useState)(!1),e=Object(f.a)(t,2),r=e[0],n=e[1],a=function(){n((function(t){return!t}))};return Object(S.jsxs)("section",{children:[Object(S.jsx)("div",{className:"container my-4",children:Object(S.jsx)("button",{className:"btn btn-outline-primary",onClick:a,children:"Add Board"})}),Object(S.jsxs)("div",{className:"container",children:[Object(S.jsx)("h1",{children:"Boards"}),Object(S.jsx)("p",{children:'This is a training React-project. An analogue of the "Trello" service.'}),Object(S.jsx)(Et,{})]}),Object(S.jsx)(it,{isModalVisible:r,onBackDropClick:a,startTitle:"",isCreate:!0,urlEdit:""})]})},Rt=function(){return Object(S.jsx)(O.a,{children:Object(S.jsx)("div",{className:"container",children:Object(S.jsxs)(p.d,{children:[Object(S.jsx)(p.b,{component:St,path:"/",exact:!0}),Object(S.jsx)(p.b,{component:ft,path:"/board/:id"}),Object(S.jsx)(p.a,{exact:!0,to:"/"})]})})})},_t=r(45),vt=r(46),Ct={getBoards:{boards:[{id:1,title:""}]},loading:!1,error:null},xt={getLists:{users:[],lists:[]},loading:!1,error:null},Dt={added:!0,error:null},mt={edited:!0,error:null},Tt={deleted:!0,error:null},yt={added:!0,error:null},Bt={deleted:!0,error:null},gt=Object(C.combineReducers)({boards:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case v.FETCH_BOARDS:return{loading:!0,error:null,getBoards:{boards:[{id:1,title:""}]}};case v.FETCH_BOARDS_SUCCESS:return{loading:!1,error:null,getBoards:e.payload};case v.FETCH_BOARDS_ERROR:return{loading:!1,error:e.payload,getBoards:{boards:[{id:1,title:""}]}};default:return t}},lists:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case g.FETCH_LISTS:return{loading:!0,error:null,getLists:{users:[],lists:[]}};case g.FETCH_LISTS_SUCCESS:return{loading:!1,error:null,getLists:e.payload};case g.FETCH_LISTS_ERROR:return{loading:!1,error:e.payload,getLists:{users:[],lists:[]}};default:return t}},boardAdd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case w.ADD_BOARD_SUCCESS:return{added:!0,error:null};case w.ADD_BOARD_ERROR:return{added:!1,error:e.payload};default:return t}},boardEdit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case k.EDIT_BOARD_SUCCESS:return{edited:!0,error:null};case k.EDIT_BOARD_ERROR:return{edited:!1,error:e.payload};default:return t}},boardDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F.DELETE_BOARD_SUCCESS:return{deleted:!0,error:null};case F.DELETE_BOARD_ERROR:return{deleted:!1,error:e.payload};default:return t}},listAdd:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:yt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case z.ADD_LIST_SUCCESS:return{added:!0,error:null};case z.ADD_LIST_ERROR:return{added:!1,error:e.payload};default:return t}},listDelete:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case P.DELETE_LIST_SUCCESS:return{deleted:!0,error:null};case P.DELETE_LIST_ERROR:return{deleted:!1,error:e.payload};default:return t}}}),At=Object(C.createStore)(gt,Object(vt.composeWithDevTools)(Object(C.applyMiddleware)(_t.a)));j.a.render(Object(S.jsx)(b.a,{store:At,children:Object(S.jsx)(Rt,{})}),document.getElementById("root"))}},[[82,1,2]]]);
//# sourceMappingURL=main.9325aea0.chunk.js.map